<div style="display:flex;justify-content: space-between">
  <h3>{{ chartMeta.name }}</h3>
  <!-- export menu -->
  <div>
    <button mat-button [matMenuTriggerFor]="menu" style="margin-right: 10px">
      Export
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="share()">
        <mat-icon>share</mat-icon>Share
      </button>
      <button mat-menu-item (click)="downloadPrintVersion()">
        <mat-icon>print</mat-icon>Print Version
      </button>
    </mat-menu>
  </div>
</div>

<div style="display: flex; margin-bottom: 2em">
  <!-- line tool -->
  <div class="slider-container">
    <mat-slider
      *ngIf="ranges"
      [min]="ranges.yMin"
      [max]="ranges.yMax"
      step="50"
      vertical
      thumbLabel
      id="lineToolSlider"
      [(ngModel)]="lineToolValue"
      (ngModelChange)="setLineToolValue($event)"
    ></mat-slider>
    <mat-form-field id="lineToolInputField">
      <input
        matInput
        id="lineToolInput"
        placeholder="Line"
        [(ngModel)]="lineToolValue"
        (ngModelChange)="setLineToolValue($event)"
      />
    </mat-form-field>
  </div>
  <div style="flex:1; width:100%">
    <!-- chart -->
    <picsa-chart
      #picsaChart
      [config]="chartConfig"
      [data]="chartData"
    ></picsa-chart>
  </div>
</div>
<!-- probability tool -->
<climate-probability-tool
  *ngIf="lineToolValue"
  [x]="lineToolValue"
  [values]="y1Values"
  [chartName]="chartMeta.name"
></climate-probability-tool>
